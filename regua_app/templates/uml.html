{% extends 'base.html' %}

{% block content %}
<h2>Diagrama UML da Régua de Comunicação</h2>
<p>O gráfico abaixo é gerado usando <a href="https://mermaid-js.github.io/mermaid/#/" target="_blank">Mermaid.js</a>. Cada nó representa um vínculo Tema–Regra e cada aresta é rotulada com o número do dia.</p>

<!-- Carrega a biblioteca Mermaid a partir de uma CDN -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  // Inicializa o Mermaid para renderizar os diagramas quando a página carregar
  mermaid.initialize({ startOnLoad: true });
</script>

<!--
  O código do diagrama é inserido dentro de um elemento <pre> com a classe
  "mermaid". O conteúdo de "mermaid_code" é gerado no Python e enviado
  para este template. Quando a página for carregada, o Mermaid irá ler
  este bloco e desenhar o diagrama no lado do cliente.
-->
<pre class="mermaid">
{{ mermaid_code }}
</pre>

<div class="mt-3">
  <a class="btn btn-secondary" href="{{ url_for('routes.home') }}">Voltar</a>
  <a class="btn btn-primary" href="{{ url_for('routes.uml') }}">Atualizar Diagrama</a>
</div>

{% endblock %}
